\documentclass[a4paper,12pt]{article}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{autobreak}
\allowdisplaybreaks

\newsavebox{\eqbox}
\newenvironment{shrinkeq}
{\begin{lrbox}{\eqbox}$\displaystyle}
{$\end{lrbox}%
\ifdim\wd\eqbox>\linewidth
    \resizebox{\linewidth}{!}{\usebox{\eqbox}}%
\else
    \usebox{\eqbox}%
\fi}
\begin{document}
\begin{shrinkeq}
\begin{aligned}
f(x, y) = (\frac{(x^{2} \cdot \ln(x) + e^{y})}{(\sin(x) + \cos(y))})^{3} + \ln(\frac{(x^{2} + y^{2})}{(1 + x \cdot y)})
\end{aligned}
\end{shrinkeq}

\end{document}
