\documentclass[a4paper,12pt]{article}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{autobreak}
\allowdisplaybreaks

\newsavebox{\eqbox}
\newenvironment{shrinkeq}
{\begin{lrbox}{\eqbox}$\displaystyle}
{$\end{lrbox}%
\ifdim\wd\eqbox>\linewidth
    \resizebox{\linewidth}{!}{\usebox{\eqbox}}%
\else
    \usebox{\eqbox}%
\fi}
\begin{document}
\begin{shrinkeq}
\begin{aligned}
f(x) = x^{x}
\end{aligned}
\end{shrinkeq}

\begin{shrinkeq}
\begin{aligned}
teylor f(x)|dx = 1 + \frac{1}{1} \cdot (x - 1)^{1} + \frac{2}{2} \cdot (x - 1)^{2} + \frac{3}{6} \cdot (x - 1)^{3} + \frac{8}{24} \cdot (x - 1)^{4}
\end{aligned}
\end{shrinkeq}

\end{document}
